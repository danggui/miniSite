define(["AbstractView",getViewTemplatePath("registeredStepThree"),"UIToast","EnvStore","UILoading","LanguageStore","UIRadioList","minGetSpreadListModel","minSetSpreadListModel"],function(a,b,c,d,e,f,g,h,i){var j=d.getInstance(),k=(f.getInstance(),new Array),h=h.getInstance(),i=i.getInstance();return _.inherit(a,{onCreate:function(){var a=this;a.$el.html(b),$("#enterprise-full-name").innerHTML=j.getAttr("cName"),this.els={spreadList_tpl:this.$el.find("#spreadList_tpl")},h.execute(function(a){if("0"==a.status)return this.toast1.showToast("获取服务列表信息失败"),!1;var b=a.data;this.$("#warp-list").html(_.template(this.els.spreadList_tpl.html())({spread_list_data:b}))},function(a){},this)},events:{"click #OKNextStep-three":"NextStep","click .login-a":"login","click .btn-HR":"HRRegistered","click .SS-btn-icon001":"changeICON001","click .shareEmployee":"shareEmployee","click .shareHR":"shareHR"},shareEmployee:function(){this.forward("shareEmployee")},shareHR:function(){this.forward("shareHR")},changeICON001:function(a){$(a.currentTarget).children("span").toggleClass("icon001-pos-org"),$(a.currentTarget).parent().children("span").toggleClass("choose-checkmark-hide"),$(a.currentTarget).parent().toggleClass("selected-s")},login:function(){window.open(JSON.parse(localStorage.EnvStore).value.envUrl+"/micro/login.jsp","_self")},HRRegistered:function(){this.forward("registeredStepOne")},NextStep:function(){this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),_.each($(".selected-s"),function(a,b,c){k.push(a.dataset.date)}),i.execute(function(a,b,c,d){return"0"==b.status?(this.toast1.showToast("提交服务选项失败"),!1):void this.forward("registeredStepFinal")},function(a){0},this,function(a){},{spread:k.join("#")})},jsonpCallback:function(a){alert(a.message)},onPreShow:function(){this.turning()},onShow:function(){},onHide:function(){}})});