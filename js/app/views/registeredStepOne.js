define(["AbstractView",getViewTemplatePath("registeredStepOne"),"UIToast","MyProfileStore","EnvStore","UILoading","LanguageStore","UIRadioList","minCheckFullNameModel","minCheckShortNameModel"],function(a,b,c,d,e,f,g,h,i,j){var k=e.getInstance(),l=d.getInstance();l.setAttr("sessionid","");var m=g.getInstance(),i=i.getInstance(),j=j.getInstance(),n=!1,o=!1,p=!1,q=[{leave_type:"title",data_data:"a",leave_name:"IT行业"},{leave_type:"a2",data_data:"a",leave_name:"计算机软件"},{leave_type:"a3",data_data:"a",leave_name:"计算机硬件"},{leave_type:"a4",data_data:"a",leave_name:"IT服务"},{leave_type:"a5",data_data:"a",leave_name:"互联网"},{leave_type:"a6",data_data:"a",leave_name:"电子商务"},{leave_type:"a7",data_data:"a",leave_name:"游戏"},{leave_type:"a8",data_data:"a",leave_name:"通信"},{leave_type:"a9",data_data:"a",leave_name:"电子/半导体"},{leave_type:"title",data_data:"b",leave_name:"金融行业"},{leave_type:"b2",data_data:"b",leave_name:"银行"},{leave_type:"b3",data_data:"b",leave_name:"保险"},{leave_type:"b4",data_data:"b",leave_name:"证券/基金/期货"},{leave_type:"b5",data_data:"b",leave_name:"投资"},{leave_type:"title",data_data:"c",leave_name:"专业服务"},{leave_type:"c2",data_data:"c",leave_name:"会计/审计"},{leave_type:"c3",data_data:"c",leave_name:"人力资源"},{leave_type:"c4",data_data:"c",leave_name:"管理咨询"},{leave_type:"c5",data_data:"c",leave_name:"法律"},{leave_type:"c6",data_data:"c",leave_name:"检测/认证"},{leave_type:"c7",data_data:"c",leave_name:"翻译"},{leave_type:"title",data_data:"d",leave_name:"教育培训行业"},{leave_type:"d2",data_data:"d",leave_name:"高等教育"},{leave_type:"d3",data_data:"d",leave_name:"初中等教育"},{leave_type:"title",data_data:"e",leave_name:"消费品行业"},{leave_type:"e2",data_data:"e",leave_name:"日用品/化妆品"},{leave_type:"e3",data_data:"e",leave_name:"食品/饮料"},{leave_type:"e4",data_data:"e",leave_name:"服装/纺织"},{leave_type:"e5",data_data:"e",leave_name:"家电/数码产品"},{leave_type:"e6",data_data:"e",leave_name:"奢侈品/珠宝"},{leave_type:"e7",data_data:"e",leave_name:"酒品"},{leave_type:"e8",data_data:"e",leave_name:"烟草业"},{leave_type:"e9",data_data:"e",leave_name:"办公用品"},{leave_type:"title",data_data:"f",leave_name:"文化传媒行业"},{leave_type:"f2",data_data:"f",leave_name:"广告/公关/会展"},{leave_type:"f3",data_data:"f",leave_name:"报纸/杂志"},{leave_type:"f4",data_data:"f",leave_name:"广播"},{leave_type:"f5",data_data:"f",leave_name:"影视"},{leave_type:"f6",data_data:"f",leave_name:"艺术/工艺"},{leave_type:"f7",data_data:"f",leave_name:"体育"},{leave_type:"f8",data_data:"f",leave_name:"动漫"},{leave_type:"title",data_data:"g",leave_name:"建筑/房地产行业"},{leave_type:"g2",data_data:"g",leave_name:"建筑设计/规划"},{leave_type:"g3",data_data:"g",leave_name:"土木工程"},{leave_type:"g4",data_data:"g",leave_name:"房地产"},{leave_type:"g5",data_data:"g",leave_name:"物业管理"},{leave_type:"g6",data_data:"g",leave_name:"建材"},{leave_type:"g7",data_data:"g",leave_name:"装修装潢"},{leave_type:"title",data_data:"h",leave_name:"贸易物流行业"},{leave_type:"h2",data_data:"h",leave_name:"进出口"},{leave_type:"h3",data_data:"h",leave_name:"批发/零售"},{leave_type:"h4",data_data:"h",leave_name:"商店/超市"},{leave_type:"h5",data_data:"h",leave_name:"物流/仓储"},{leave_type:"h6",data_data:"h",leave_name:"运输/铁路/航空"},{leave_type:"title",data_data:"i",leave_name:"服务业"},{leave_type:"i2",data_data:"i",leave_name:"酒店"},{leave_type:"i3",data_data:"i",leave_name:"餐饮"},{leave_type:"i4",data_data:"i",leave_name:"旅游"},{leave_type:"i5",data_data:"i",leave_name:"休闲/娱乐健身"},{leave_type:"i6",data_data:"i",leave_name:"私人/家政服务"},{leave_type:"title",data_data:"j",leave_name:"其他"},{leave_type:"j2",data_data:"j",leave_name:"环境"},{leave_type:"j3",data_data:"j",leave_name:"农/林/渔/牧"},{leave_type:"j4",data_data:"j",leave_name:"研究所/研究院"},{leave_type:"j5",data_data:"j",leave_name:"公共事业"},{leave_type:"j6",data_data:"j",leave_name:"非营利组织"},{leave_type:"j7",data_data:"j",leave_name:"政府部门"},{leave_type:"j8",data_data:"j",leave_name:"其他"}];return _.inherit(a,{onCreate:function(){var a=this;a.$el.html(b)},events:{"click .language-settings-loging":"selectLanguage","click #selectIndustryType":"selectIndustryType","click #OKNextStep":"OKNextStep","blur #username-full":"checkFullName","blur #username-short":"checkShortName","click .login-a":"login","click .btn-HR":"HRRegistered","click #ResetStep":"ResetStep"},ResetStep:function(){$("input").each(function(){this.value=""}),$("#industry_type")[0].innerHTML="选择所在行业",n=!1,o=!1,p=!1,k.setAttr("cName",""),k.setAttr("cCode",""),k.setAttr("cIndustry","")},login:function(){window.open(JSON.parse(localStorage.EnvStore).value.envUrl+"/micro/login.jsp","_self")},HRRegistered:function(){this.forward("registeredStepOne")},checkShortName:function(a){var b=$(a.target.nextElementSibling),d=/^[a-zA-Z0-9~!@#$%^&\*\(\)_\-\+=\[\]{}\\|<>,\.;:'"/?\u4e00-\u9fa5]{10,30}$/g;o=$("#username-short").val().trim(),""!=o?(this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),d.test(o)?j.execute(function(a,c,d,e){return"0"==c.status?(b.addClass("glyphicon glyphicon-remove"),b.removeClass("glyphicon glyphicon-ok"),this.toast1.showToast("企业简称和已有的重复，请重新填写"),o=!1,!1):(b.removeClass("glyphicon glyphicon-remove"),b.addClass("glyphicon glyphicon-ok"),k.setAttr("cCode",o),void 0)},function(a){0},this,function(a){},{code:o}):(o=!1,b.addClass("glyphicon glyphicon-remove"),this.toast1.showToast("请填写有效的企业简称"))):(b.addClass(" glyphicon-remove"),b.removeClass(" glyphicon-ok"),o=!1)},checkFullName:function(a){var b=$(a.target.nextElementSibling);""!=$("#username-full").val().trim()?(n=$("#username-full").val().trim(),this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),i.execute(function(a,c,d,e){return"0"==c.status?(b.addClass("glyphicon glyphicon-remove"),b.removeClass("glyphicon glyphicon-ok"),this.toast1.showToast("企业全称和已有的重复，请重新填写"),n=!1,!1):(b.removeClass("glyphicon glyphicon-remove"),b.addClass("glyphicon glyphicon-ok"),k.setAttr("cName",n),void 0)},function(a){0},this,function(a){},{name:n})):(b.addClass(" glyphicon-remove"),b.removeClass(" glyphicon-ok"),n=!1)},OKNextStep:function(a){a.stopPropagation(),this.toast1||(this.toast1=new c({datamodel:{content:"content"},TIMERRES:!0})),n?o?p?this.forward("registeredStepTwo"):this.toast1.showToast("请选择所在行业"):this.toast1.showToast("请填写有效的企业简称"):this.toast1.showToast("请填写有效的企业全称")},selectIndustryType:function(){var a=[],b=this;this.selectType_radio||("zh_cn"==m.getAttr("language").languageFlag?_.each(q,function(b,c,d){a.push({id:b.leave_type,data:b.data_data,name:b.leave_name})}):_.each(q,function(b,c,d){a.push({id:b.leave_type,name:b.leave_name})}),this.selectType_radio=new h({datamodel:{title:"行业分类",data:a},displayNum:5,selectId:4,index:4,onClick:function(a,c){b.$("#industry_type").text(c.name),$("#industry_type").attr("placeholder",c.id),p=c.name,k.setAttr("cIndustry",p),this.hide()}})),this.selectType_radio.show(),$(".pop-box-bd").css("min-height","280px")},selectLanguage:function(a){var b=a.target.dataset.id;$(".language-settings-loging").removeClass("language-settings-selected"),$(a.target).addClass("language-settings-selected"),location.replace(window.location.origin+window.location.pathname+"?"+b)},jsonpCallback:function(a){alert(a.message)},onPreShow:function(){this.turning()},onShow:function(){$("input").each(function(){this.value=""}),$(".glyphicon-ok").each(function(){$(this).removeClass("glyphicon-ok")})},onHide:function(){$("html,body").scrollTop(0)}})});