define(["AbstractView",getViewTemplatePath("downloadAPP"),"UIToast","UILoading","LanguageStore","UISlide","UIArticle","EnvStore"],function(a,b,c,d,e,f,g,h){h.getInstance(),e.getInstance();return _.inherit(a,{onCreate:function(){var a=this;a.$el.html(b),JSON.parse(localStorage.EnvStore).value.envUrl.indexOf("192.168.101.126")||JSON.parse(localStorage.EnvStore).value.envUrl.indexOf("101.230.3.6")?$(".app-down-iphone").attr("href","itms-services://?action=download-manifest&url=https://www.cdpcloud.com/download/micro_mobile_dev/microCloud.plist"):JSON.parse(localStorage.EnvStore).value.envUrl.indexOf("192.168.9.230")||JSON.parse(localStorage.EnvStore).value.envUrl.indexOf("58.240.190.198")?$(".app-down-iphone").attr("href","itms-services://?action=download-manifest&url=https://www.cdpcloud.com/download/dev/microCloud.plist"):$(".app-down-iphone").attr("href","itms-services://?action=download-manifest&url=https://www.cdpcloud.com/download/micro_mobile/microCloud.plist"),$(".app-down-android").attr("href",JSON.parse(localStorage.EnvStore).value.envUrl+"/microCloud/dev/MicroCloud.apk")},events:{"click .language-settings-loging":"selectLanguage","click .app-btn":"isWeiXin","click .guide-cover-bg":"hideCover"},isWeiXin:function(){var a=window.navigator.userAgent.toLowerCase();"micromessenger"==a.match(/MicroMessenger/i)&&(event.preventDefault(),$("#guide-cover-bg").css("display","block"),$("#guide-show").css("display","block"))},hideCover:function(){$("#guide-cover-bg").css("display","none"),$("#guide-show").css("display","none")},share_weixin:function(){this.groupSelectPolicy||(this.groupSelectPolicy=new g({datamodel:{title:"����΢������Ȧ",btns:[{name:"ȡ��",className:"pop-box-btns-cancel"},{name:"ȷ��",className:"pop-box-btns-ok"}]},data:[],indexArr:[],changedArr:[],onOkAction:function(){this.hide()},onCancelAction:function(){this.hide()}})),this.groupSelectPolicy.show()},selectLanguage:function(a){var b=a.target.dataset.id;$(".language-settings-loging").removeClass("language-settings-selected"),$(a.target).addClass("language-settings-selected"),location.replace(window.location.origin+window.location.pathname+"?"+b)},jsonpCallback:function(a){alert(a.message)},onPreShow:function(){this.turning()},onShow:function(){},onHide:function(){}})});